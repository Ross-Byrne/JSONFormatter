<!DOCTYPE html>

<html>
    
    <head>
        <meta charset="UTF-8">
        <title>JSON Formatter</title>

    </head>
    
    <body>

        <h1 align="center">Copy & Paste Your JSON Into The Box Below!</h1>
      
        <div Style="padding: 20px;" align="center">
            <form name="myForm">
                <textarea type="text" name="jsonEntered" Style="width: 520px; height: 700px;"></textarea>
            </form>
        </div>
      
        <div align="center">
            <button style="padding: 10px;" onclick="formatJSONToMin(document.myForm.jsonEntered.value);">Format To Minimum</button>
            <button style="padding: 10px;" onclick="formatJSONToReg(document.myForm.jsonEntered.value);">Format To Regular</button>
        </div>
        
        
        <!--/////////////////////////////// JavaScript ///////////////////////////////-->
        
    
        <script type="text/javascript">
		 
        /*================================ Functions ================================*/
        
        /*================================ formatJSONToMin() ================================*/
            
        // function to format entered json to minimum
        function formatJSONToMin(json){
            
            // save copy of entered JSON to formattedJSON var
            formattedJSON = json;
            
            // remove all space characters from the string
            formattedJSON = formattedJSON.replace(/ /g, '');
            
            // remove all newline characters from string
            formattedJSON = formattedJSON.replace(/(\r\n|\n|\r)/g, '');
            
            // remove all tab characters from string
            formattedJSON = formattedJSON.replace(/\t/g, '');
            
            // update textarea with formatted JSON
            document.myForm.jsonEntered.value = formattedJSON;
            
        } // formatJSONToMin()
        
        /*================================ formatJSONToReg() ================================*/
            
        // function to format entered json to regular
        function formatJSONToReg(json){
            
            // save copy of entered JSON to formattedJSON var
            formattedJSON = json;
            
            var len = formattedJSON.length;
            var tabCount = 0;
            
            // loop through string
            for(var i = 0; i < formattedJSON.length; i++){
                
                if(formattedJSON.charAt(i) == '}'){
						 
							 // add a newline to {
                    var formattedChar = "\n}";
                
                    // remove a tab
                    tabCount--;
                   
                    // add enough spaces to compensate for tabs
                    for(var x = 0; x < tabCount; x++){
                        
                        formattedChar += "    ";
                    } // for
                    
                   // add { back into string will added tabs and newline 
                   formattedJSON = setCharAt(formattedJSON, i, formattedChar);
						 
					 } // if
					
					
            /*    if(formattedJSON.charAt(i) == ',' && formattedJSON.charAt(i+1) == '{'){
                    
                    // add a newline to ','
                    var formattedChar = "\n";
                   
                    // add enough spaces to compensate for tabs
                    for(var x = 0; x < tabCount; x++){
                        
                        formattedChar += "    ";
                    } // for
                    
						 formattedChar = "{";
						 
                   // add ',' back into string will added tabs and newline 
                   formattedJSON = setCharAt(formattedJSON, i+1, formattedChar); 
                    
                } else if(formattedJSON.charAt(i) == ','){
                    
                    // add a newline to ','
                    var formattedChar = ",\n";
                   
                    // add enough spaces to compensate for tabs
                    for(var x = 0; x < tabCount; x++){
                        
                        formattedChar += "    ";
                    } // for
                    
                   // add ',' back into string will added tabs and newline 
                   formattedJSON = setCharAt(formattedJSON, i, formattedChar); 
                    
                } else if(formattedJSON.charAt(i) == '{' && formattedJSON.charAt(i-1) == ','){
						 
						 // Do Nothing
						 
					 } else if(formattedJSON.charAt(i) == '{'){
                    
                    // add a newline to {
                    var formattedChar = "{\n";
                
                    // add a tab
                    tabCount++;
                   
                    // add enough spaces to compensate for tabs
                    for(var x = 0; x < tabCount; x++){
                        
                        formattedChar += "    ";
                    } // for
                    
                   // add { back into string will added tabs and newline 
                   formattedJSON = setCharAt(formattedJSON, i, formattedChar);
                    
                }*/
						 
						 
                
            } // for
            
            
            // update textarea with formatted JSON
            document.myForm.jsonEntered.value = formattedJSON;
            
        } // formatJSONToReg()
            
        /*================================ setCharAt() ================================*/
            
        function setCharAt(str1, index, str2) {
            
            // if index is greater then length, return str unchanged 
            if(index > str1.length-1) return str1;
            
            // otherwise return string with added string
            return str1.substr(0,index) + str2 + str1.substr(index+1);
            
        } // setCharAt()
	
        </script>
        
        <!--/////////////////////////////// JavaScript End ///////////////////////////////-->

    </body>

</html>